@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Fondo: Verde militar oscuro (como pantalla de visión nocturna) */
    --background: 80 10% 8%;

    --foreground: 80 10% 90%;

    --card: 80 10% 12%;

    --card-foreground: 80 10% 90%;

    --popover: 80 10% 10%;

    --popover-foreground: 80 10% 90%;

    /* Primary: Verde militar brillante (como marcador láser) */
    --primary: 80 70% 50%;

    --primary-foreground: 0 0% 0%;

    --secondary: 80 10% 15%;

    --secondary-foreground: 80 10% 90%;

    --muted: 80 10% 15%;

    --muted-foreground: 80 10% 70%;

    --accent: 80 20% 20%;

    --accent-foreground: 80 10% 90%;

    --destructive: 0 84.2% 60.2%;

    --destructive-foreground: 0 0% 98%;

    --border: 80 10% 20%;

    --input: 80 10% 18%;

    --ring: 80 70% 50%;

    --chart-1: 80 70% 50%;

    --chart-2: 140 70% 45%;

    --chart-3: 30 80% 55%;

    --chart-4: 280 65% 60%;

    --chart-5: 340 75% 55%;

    --radius: 0.25rem; /* Más cuadrado, menos redondeado */

    --sidebar-background: 80 10% 10%;

    --sidebar-foreground: 80 10% 90%;

    --sidebar-primary: 80 70% 50%;

    --sidebar-primary-foreground: 0 0% 0%;

    --sidebar-accent: 80 20% 20%;

    --sidebar-accent-foreground: 80 10% 90%;

    --sidebar-border: 80 10% 20%;

    --sidebar-ring: 80 70% 50%;
  }
  .dark {
    /* Modo oscuro - aún más táctico */
    --background: 80 15% 5%;

    --foreground: 80 10% 95%;

    --card: 80 15% 8%;

    --card-foreground: 80 10% 95%;

    --popover: 80 15% 7%;

    --popover-foreground: 80 10% 95%;

    --primary: 80 80% 55%;

    --primary-foreground: 0 0% 0%;

    --secondary: 80 15% 12%;

    --secondary-foreground: 80 10% 95%;

    --muted: 80 15% 12%;

    --muted-foreground: 80 10% 75%;

    --accent: 80 25% 18%;

    --accent-foreground: 80 10% 95%;

    --destructive: 0 62.8% 30.6%;

    --destructive-foreground: 0 0% 98%;

    --border: 80 15% 25%;

    --input: 80 15% 20%;

    --ring: 80 80% 55%;

    --chart-1: 80 80% 55%;

    --chart-2: 140 80% 50%;

    --chart-3: 30 90% 60%;

    --chart-4: 280 70% 65%;

    --chart-5: 340 80% 60%;

    --sidebar-background: 80 15% 7%;

    --sidebar-foreground: 80 10% 95%;

    --sidebar-primary: 80 80% 55%;

    --sidebar-primary-foreground: 0 0% 0%;

    --sidebar-accent: 80 25% 18%;

    --sidebar-accent-foreground: 80 10% 95%;

    --sidebar-border: 80 15% 25%;

    --sidebar-ring: 80 80% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    /* Fondo con patrón de camuflaje sutil */
    background-image: 
      radial-gradient(circle at 25% 25%, hsl(var(--primary)/0.1) 2px, transparent 2px),
      radial-gradient(circle at 75% 75%, hsl(var(--secondary)/0.1) 2px, transparent 2px);
    background-size: 40px 40px;
    background-attachment: fixed;
    font-family: 'Courier New', monospace;
    letter-spacing: 0.5px;
  }

  /* Estilo para títulos principales */
  h1, h2, h3, h4, h5, h6 {
    @apply font-bold tracking-wider uppercase;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  }

  /* Estilo para enlaces */
  a {
    @apply transition-all duration-200;
  }

  /* Estilo para botones */
  button {
    @apply transition-all duration-200;
  }
}

@layer utilities {
  /* Efectos de visión nocturna */
  .night-vision {
    background: radial-gradient(ellipse at center, transparent 30%, hsl(var(--primary)/0.1) 100%);
  }

  /* Borde táctico */
  .tactical-border {
    border-image: linear-gradient(45deg, hsl(var(--primary)), hsl(var(--secondary))) 1;
    border-width: 2px;
    border-style: solid;
  }

  /* Texto con efecto de terminal/militar */
  .terminal-text {
    font-family: 'Courier New', monospace;
    letter-spacing: 1px;
    text-transform: uppercase;
  }

  /* Efecto de escaneo */
  .scan-line {
    position: relative;
    overflow: hidden;
  }

  .scan-line::after {
    content: '';
    position: absolute;
    top: -100%;
    left: 0;
    width: 100%;
    height: 4px;
    background: linear-gradient(to bottom, transparent, hsl(var(--primary)/0.8), transparent);
    animation: scan 3s linear infinite;
  }

  /* Superficie rugosa/táctica */
  .tactical-surface {
    background-image: 
      linear-gradient(45deg, transparent 48%, hsl(var(--primary)/0.05) 50%, transparent 52%),
      linear-gradient(-45deg, transparent 48%, hsl(var(--primary)/0.05) 50%, transparent 52%);
    background-size: 4px 4px;
  }

  /* Marcador láser */
  .laser-dot {
    position: absolute;
    width: 6px;
    height: 6px;
    background: hsl(var(--primary));
    border-radius: 50%;
    box-shadow: 0 0 10px 2px hsl(var(--primary));
    animation: pulse-laser 2s ease-in-out infinite;
  }
}

@keyframes scan {
  0% {
    top: -100%;
  }
  100% {
    top: 100%;
  }
}

@keyframes pulse-laser {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.6;
    transform: scale(0.8);
  }
}

/* Mejoras de scroll táctico */
::-webkit-scrollbar {
  width: 8px;
  background: hsl(var(--background));
}

::-webkit-scrollbar-track {
  background: hsl(var(--muted));
  border: 1px solid hsl(var(--border));
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, hsl(var(--primary)), hsl(var(--primary)/0.7));
  border: 1px solid hsl(var(--border));
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, hsl(var(--primary)), hsl(var(--primary)));
}

/* Mejoras de selección de texto */
::selection {
  background-color: hsl(var(--primary)/0.5);
  color: hsl(var(--primary-foreground));
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

/* Estilo para inputs y textareas */
input, textarea, select {
  @apply bg-black/30 border border-border/50 rounded-none px-3 py-2;
  font-family: 'Courier New', monospace;
  letter-spacing: 0.5px;
}

input:focus, textarea:focus, select:focus {
  @apply outline-none ring-1 ring-primary border-primary/50;
  box-shadow: 0 0 0 2px hsl(var(--primary)/0.1);
}

/* Estilo para tarjetas y contenedores */
.card-tactical {
  @apply bg-gradient-to-br from-black/20 to-black/40 border border-border/30;
  backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
}

.card-tactical::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, hsl(var(--primary)), transparent);
}

/* Efecto de grid táctico */
.tactical-grid {
  background-image: 
    linear-gradient(hsl(var(--border)/0.3) 1px, transparent 1px),
    linear-gradient(90deg, hsl(var(--border)/0.3) 1px, transparent 1px);
  background-size: 20px 20px;
}

/* Marcas de desgaste y battle damage */
.battle-damage {
  position: relative;
}

.battle-damage::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 20% 30%, transparent 10px, hsl(var(--destructive)/0.05) 11px, transparent 12px),
    radial-gradient(circle at 80% 70%, transparent 8px, hsl(var(--destructive)/0.03) 9px, transparent 10px);
  pointer-events: none;
}